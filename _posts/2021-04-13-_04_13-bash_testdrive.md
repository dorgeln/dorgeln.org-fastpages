---
keywords: fastai
description: How to build your own Arch Linux install image in a Notebook
title: Bash & Chroot Testdrive
toc: false
branch: master
badges: false
comments: false
author: Andreas Traw√∂ger
categories: [arch]
nb_path: _notebooks/2020_04_13-bash_testdrive.ipynb
layout: notebook
---

<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020_04_13-bash_testdrive.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>{% include important.html content='This notebook needs to run on an Arch Linux system and will fail to run properly in Docker or mybinder.org.' %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Install-Archiso-package">Install Archiso package<a class="anchor-link" href="#Install-Archiso-package"> </a></h2>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="c1">#collapse-output</span>
sudo pacman --noconfirm -S archiso
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>resolving dependencies...
looking for conflicting packages...

Packages (1) archiso-52-1

Total Installed Size:  0.16 MiB
Net Upgrade Size:      0.00 MiB

:: Proceed with installation? [Y/n] 
checking keyring...
checking package integrity...
loading package files...
checking for file conflicts...
checking available disk space...
:: Processing package changes...
reinstalling archiso...
:: Running post-transaction hooks...
(1/1) Arming ConditionNeedsUpdate...
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>warning: archiso-52-1 is up to date -- reinstalling
</pre>
</div>
</div>

</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">env</span> DIR_CFG=../../arch/cfg
<span class="o">%</span><span class="k">env</span> DIR_ISO=../../arch/iso 
<span class="o">%</span><span class="k">env</span> DIR_TMP=../../arch/tmp
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>env: DIR_CFG=../../arch/cfg
env: DIR_ISO=../../arch/iso
env: DIR_TMP=../../arch/tmp
</pre>
</div>
</div>

</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="c1">#collapse-output</span>
sudo mkdir -p <span class="nv">$DIR_CFG</span>
sudo mkdir -p <span class="nv">$DIR_TMP</span>
sudo mkdir -p <span class="nv">$DIR_ISO</span>
sudo cp -rv /usr/share/archiso/configs/releng/* <span class="nv">$DIR_CFG</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;/usr/share/archiso/configs/releng/airootfs/etc/hostname&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/hostname&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/locale.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/locale.conf&#39;
removed &#39;../../arch/cfg/airootfs/etc/localtime&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/localtime&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/localtime&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/mkinitcpio.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/mkinitcpio.conf&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/motd&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/motd&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/passwd&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/passwd&#39;
removed &#39;../../arch/cfg/airootfs/etc/resolv.conf&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/resolv.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/resolv.conf&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/shadow&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/shadow&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/mkinitcpio.d/linux.preset&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/mkinitcpio.d/linux.preset&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/modprobe.d/broadcom-wl.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/modprobe.d/broadcom-wl.conf&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/pacman.d/hooks/40-locale-gen.hook&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/pacman.d/hooks/40-locale-gen.hook&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/pacman.d/hooks/uncomment-mirrors.hook&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/pacman.d/hooks/uncomment-mirrors.hook&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/pacman.d/hooks/zzzz99-remove-custom-hooks-from-airootfs.hook&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/pacman.d/hooks/zzzz99-remove-custom-hooks-from-airootfs.hook&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/ssh/sshd_config&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/ssh/sshd_config&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/xdg/reflector/reflector.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/xdg/reflector/reflector.conf&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/network/20-ethernet.network&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/network/20-ethernet.network&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/network/20-wlan.network&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/network/20-wlan.network&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/network/20-wwan.network&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/network/20-wwan.network&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/choose-mirror.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/choose-mirror.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/dbus-org.freedesktop.ModemManager1.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/dbus-org.freedesktop.ModemManager1.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/dbus-org.freedesktop.ModemManager1.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/dbus-org.freedesktop.network1.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/dbus-org.freedesktop.network1.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/dbus-org.freedesktop.network1.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/dbus-org.freedesktop.resolve1.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/dbus-org.freedesktop.resolve1.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/dbus-org.freedesktop.resolve1.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/etc-pacman.d-gnupg.mount&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/etc-pacman.d-gnupg.mount&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/livecd-alsa-unmuter.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/livecd-alsa-unmuter.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/livecd-talk.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/livecd-talk.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/pacman-init.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/pacman-init.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-config.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-config.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-config.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-final.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-final.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-final.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init-local.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init-local.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init-local.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/getty@tty1.service.d/autologin.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/getty@tty1.service.d/autologin.conf&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/ModemManager.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/ModemManager.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/ModemManager.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/choose-mirror.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/choose-mirror.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/choose-mirror.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/iwd.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/iwd.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/iwd.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/livecd-talk.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/livecd-talk.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/livecd-talk.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/pacman-init.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/pacman-init.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/pacman-init.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/reflector.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/reflector.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/reflector.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/sshd.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/sshd.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/sshd.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/systemd-networkd.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/systemd-networkd.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/systemd-networkd.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/systemd-resolved.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/multi-user.target.wants/systemd-resolved.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/multi-user.target.wants/systemd-resolved.service&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/reflector.service.d/archiso.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/reflector.service.d/archiso.conf&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/sockets.target.wants/systemd-networkd.socket&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/sockets.target.wants/systemd-networkd.socket&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/sockets.target.wants/systemd-networkd.socket&#39;
removed &#39;../../arch/cfg/airootfs/etc/systemd/system/sound.target.wants/livecd-alsa-unmuter.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/sound.target.wants/livecd-alsa-unmuter.service&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/sound.target.wants/livecd-alsa-unmuter.service&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/system/systemd-networkd-wait-online.service.d/wait-for-only-one-interface.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/system/systemd-networkd-wait-online.service.d/wait-for-only-one-interface.conf&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/journald.conf.d/volatile-storage.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/journald.conf.d/volatile-storage.conf&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/etc/systemd/logind.conf.d/do-not-suspend.conf&#39; -&gt; &#39;../../arch/cfg/airootfs/etc/systemd/logind.conf.d/do-not-suspend.conf&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/root/.automated_script.sh&#39; -&gt; &#39;../../arch/cfg/airootfs/root/.automated_script.sh&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/root/.zlogin&#39; -&gt; &#39;../../arch/cfg/airootfs/root/.zlogin&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/usr/local/bin/Installation_guide&#39; -&gt; &#39;../../arch/cfg/airootfs/usr/local/bin/Installation_guide&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/usr/local/bin/choose-mirror&#39; -&gt; &#39;../../arch/cfg/airootfs/usr/local/bin/choose-mirror&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/usr/local/bin/livecd-sound&#39; -&gt; &#39;../../arch/cfg/airootfs/usr/local/bin/livecd-sound&#39;
&#39;/usr/share/archiso/configs/releng/airootfs/usr/local/share/livecd-sound/asound.conf.in&#39; -&gt; &#39;../../arch/cfg/airootfs/usr/local/share/livecd-sound/asound.conf.in&#39;
&#39;/usr/share/archiso/configs/releng/efiboot/loader/loader.conf&#39; -&gt; &#39;../../arch/cfg/efiboot/loader/loader.conf&#39;
&#39;/usr/share/archiso/configs/releng/efiboot/loader/entries/archiso-x86_64-linux.conf&#39; -&gt; &#39;../../arch/cfg/efiboot/loader/entries/archiso-x86_64-linux.conf&#39;
&#39;/usr/share/archiso/configs/releng/efiboot/loader/entries/archiso-x86_64-speech-linux.conf&#39; -&gt; &#39;../../arch/cfg/efiboot/loader/entries/archiso-x86_64-speech-linux.conf&#39;
&#39;/usr/share/archiso/configs/releng/packages.x86_64&#39; -&gt; &#39;../../arch/cfg/packages.x86_64&#39;
&#39;/usr/share/archiso/configs/releng/pacman.conf&#39; -&gt; &#39;../../arch/cfg/pacman.conf&#39;
&#39;/usr/share/archiso/configs/releng/profiledef.sh&#39; -&gt; &#39;../../arch/cfg/profiledef.sh&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/packages.x86_64&#39; -&gt; &#39;../../arch/cfg/syslinux/packages.x86_64&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/pacman.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/pacman.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/profiledef.sh&#39; -&gt; &#39;../../arch/cfg/syslinux/profiledef.sh&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/archiso_head.cfg&#39; -&gt; &#39;../../arch/cfg/syslinux/archiso_head.cfg&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/archiso_pxe-linux.cfg&#39; -&gt; &#39;../../arch/cfg/syslinux/archiso_pxe-linux.cfg&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/archiso_pxe.cfg&#39; -&gt; &#39;../../arch/cfg/syslinux/archiso_pxe.cfg&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/archiso_sys-linux.cfg&#39; -&gt; &#39;../../arch/cfg/syslinux/archiso_sys-linux.cfg&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/archiso_sys.cfg&#39; -&gt; &#39;../../arch/cfg/syslinux/archiso_sys.cfg&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/archiso_tail.cfg&#39; -&gt; &#39;../../arch/cfg/syslinux/archiso_tail.cfg&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/splash.png&#39; -&gt; &#39;../../arch/cfg/syslinux/splash.png&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/syslinux.cfg&#39; -&gt; &#39;../../arch/cfg/syslinux/syslinux.cfg&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/hostname&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/hostname&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/locale.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/locale.conf&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/localtime&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/localtime&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/localtime&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/mkinitcpio.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/mkinitcpio.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/motd&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/motd&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/passwd&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/passwd&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/resolv.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/resolv.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/resolv.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/shadow&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/shadow&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/mkinitcpio.d/linux.preset&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/mkinitcpio.d/linux.preset&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/modprobe.d/broadcom-wl.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/modprobe.d/broadcom-wl.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/pacman.d/hooks/40-locale-gen.hook&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/pacman.d/hooks/40-locale-gen.hook&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/pacman.d/hooks/uncomment-mirrors.hook&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/pacman.d/hooks/uncomment-mirrors.hook&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/pacman.d/hooks/zzzz99-remove-custom-hooks-from-airootfs.hook&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/pacman.d/hooks/zzzz99-remove-custom-hooks-from-airootfs.hook&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/ssh/sshd_config&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/ssh/sshd_config&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/xdg/reflector/reflector.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/xdg/reflector/reflector.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/journald.conf.d/volatile-storage.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/journald.conf.d/volatile-storage.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/logind.conf.d/do-not-suspend.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/logind.conf.d/do-not-suspend.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/network/20-ethernet.network&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/network/20-ethernet.network&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/network/20-wlan.network&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/network/20-wlan.network&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/network/20-wwan.network&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/network/20-wwan.network&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/network-online.target.wants/systemd-networkd-wait-online.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/reflector.service.d/archiso.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/reflector.service.d/archiso.conf&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/sockets.target.wants/systemd-networkd.socket&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/sockets.target.wants/systemd-networkd.socket&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/sockets.target.wants/systemd-networkd.socket&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/sound.target.wants/livecd-alsa-unmuter.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/sound.target.wants/livecd-alsa-unmuter.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/sound.target.wants/livecd-alsa-unmuter.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/systemd-networkd-wait-online.service.d/wait-for-only-one-interface.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/systemd-networkd-wait-online.service.d/wait-for-only-one-interface.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/choose-mirror.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/choose-mirror.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.ModemManager1.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.ModemManager1.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.ModemManager1.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.network1.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.network1.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.network1.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.resolve1.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.resolve1.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/dbus-org.freedesktop.resolve1.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/etc-pacman.d-gnupg.mount&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/etc-pacman.d-gnupg.mount&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/livecd-alsa-unmuter.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/livecd-alsa-unmuter.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/livecd-talk.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/livecd-talk.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/pacman-init.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/pacman-init.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-config.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-config.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-config.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-final.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-final.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-final.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init-local.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init-local.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init-local.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/cloud-init.target.wants/cloud-init.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/getty@tty1.service.d/autologin.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/getty@tty1.service.d/autologin.conf&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/ModemManager.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/ModemManager.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/ModemManager.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/choose-mirror.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/choose-mirror.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/choose-mirror.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/iwd.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/iwd.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/iwd.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/livecd-talk.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/livecd-talk.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/livecd-talk.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/pacman-init.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/pacman-init.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/pacman-init.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/reflector.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/reflector.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/reflector.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/sshd.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/sshd.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/sshd.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/systemd-networkd.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/systemd-networkd.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/systemd-networkd.service&#39;
removed &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/systemd-resolved.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/systemd-resolved.service&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/etc/systemd/system/multi-user.target.wants/systemd-resolved.service&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/root/.automated_script.sh&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/root/.automated_script.sh&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/root/.zlogin&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/root/.zlogin&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/usr/local/bin/Installation_guide&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/usr/local/bin/Installation_guide&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/usr/local/bin/choose-mirror&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/usr/local/bin/choose-mirror&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/usr/local/bin/livecd-sound&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/usr/local/bin/livecd-sound&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/airootfs/usr/local/share/livecd-sound/asound.conf.in&#39; -&gt; &#39;../../arch/cfg/syslinux/airootfs/usr/local/share/livecd-sound/asound.conf.in&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/efiboot/loader/loader.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/efiboot/loader/loader.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/efiboot/loader/entries/archiso-x86_64-linux.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/efiboot/loader/entries/archiso-x86_64-linux.conf&#39;
&#39;/usr/share/archiso/configs/releng/syslinux/efiboot/loader/entries/archiso-x86_64-speech-linux.conf&#39; -&gt; &#39;../../arch/cfg/syslinux/efiboot/loader/entries/archiso-x86_64-speech-linux.conf&#39;
</pre>
</div>
</div>

</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="c1">#collapse-output</span>
sudo grep root /etc/shadow &gt; sudo <span class="nv">$DIR_CFG</span>/airootfs/etc/shadow
sudo cp /etc/vconsole.conf <span class="nv">$DIR_CFG</span>/airootfs/etc
sudo cp /etc/ssh/sshd_config <span class="nv">$DIR_CFG</span>/airootfs/sshd_config
sudo mkdir -p <span class="nv">$DIR_CFG</span>/airootfs/etc/systemd/system/multi-user.target.wants
sudo ln -sf /usr/lib/systemd/system/sshd.service <span class="nv">$DIR_CFG</span>/airootfs/etc/systemd/system/multi-user.target.wants/
sudo mkdir -p -m <span class="m">0700</span> <span class="nv">$DIR_CFG</span>/root/.ssh
cat ~/.ssh/id_rsa.pub  <span class="p">|</span> sudo tee <span class="nv">$DIR_CFG</span>/root/.ssh/authorized_keys
sudo chmod <span class="m">0600</span>  <span class="nv">$DIR_CFG</span>/root/.ssh/authorized_keys
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQD3Tzmf8dsAqlSQnjNC7RNlqKu8q2OM3UoIKIqlyJnSfvdS/CCAHOITtu7IN2mBF9yBZm9Vyso8BHBDeshsw60pwS1vuV5BosLUEFnNoXQTc2uPUMJMQS3Sm6pEB1TSGr078vOB8ElemXfTsoqM3hrINmwagy9HbQ/2c2GrHkHvKRv2tjGEZiBFDRyceG/Ug6lv1A0DrEDi1yl07JpJl4gNobyRzdKEGVQezMT/atiat4e7xmaV8CneWAAUKmY6tnRDsC4/BUc9NlpyxEeumG9i72XSVckFpM2PF76rdo4gr3nUyOfu9YONZJo9fMBKxQDk+epNc3jneNSANhgPhH0HXOcuETHrI09di73oaHNyuDmW+KmCKr+HPy8ZJa72MUpINaxVPg3SC44Pzp9oFPE+spmhQc1bqKDcOhCaJdi/k1nlvhiGT2QE1sh9aRYBUeVN/4DTcu3dHmFJE1pPrkKxyE9wlx+OfIKe/g7YFNFkhufM5jvvWnR9h3KapH1nc7ERuX0BeSBisWNLvLpn+hr1JOi1UF+Aod1lKaNZA8uEr3A86MXP0y+dbyTLAtD0cHk0ZDz60Plu68BGZF2ANReEC/kexMYmvDOILK/u3u5KQyecLxkPJCW52hFAn2H43Ell4Wm7wqDWjl0cNrQwbYutQ6KBBItORe9uIMD7/ntidw== atrawog@dorgeln.org
</pre>
</div>
</div>

</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="c1">#collapse-output</span>
cat <span class="s">&lt;&lt; &#39;EOF&#39; | sudo tee $DIR_CFG/packages.x86_64</span>
<span class="s">amd-ucode</span>
<span class="s">arch-install-scripts</span>
<span class="s">b43-fwcutter</span>
<span class="s">base</span>
<span class="s">bind-tools</span>
<span class="s">broadcom-wl</span>
<span class="s">clonezilla</span>
<span class="s">crda</span>
<span class="s">darkhttpd</span>
<span class="s">ddrescue</span>
<span class="s">dhclient</span>
<span class="s">dhcpcd</span>
<span class="s">diffutils</span>
<span class="s">dmraid</span>
<span class="s">dnsmasq</span>
<span class="s">dosfstools</span>
<span class="s">edk2-shell</span>
<span class="s">efibootmgr</span>
<span class="s">ethtool</span>
<span class="s">exfatprogs</span>
<span class="s">f2fs-tools</span>
<span class="s">fsarchiver</span>
<span class="s">gnu-netcat</span>
<span class="s">gpm</span>
<span class="s">gptfdisk</span>
<span class="s">grml-zsh-config</span>
<span class="s">haveged</span>
<span class="s">hdparm</span>
<span class="s">intel-ucode</span>
<span class="s">ipw2100-fw</span>
<span class="s">ipw2200-fw</span>
<span class="s">irssi</span>
<span class="s">iwd</span>
<span class="s">jfsutils</span>
<span class="s">kitty-terminfo</span>
<span class="s">lftp</span>
<span class="s">linux</span>
<span class="s">linux-atm</span>
<span class="s">linux-firmware</span>
<span class="s">lsscsi</span>
<span class="s">lvm2</span>
<span class="s">lynx</span>
<span class="s">man-db</span>
<span class="s">man-pages</span>
<span class="s">mc</span>
<span class="s">mdadm</span>
<span class="s">memtest86+</span>
<span class="s">mkinitcpio</span>
<span class="s">mkinitcpio-archiso</span>
<span class="s">mkinitcpio-nfs-utils</span>
<span class="s">mtools</span>
<span class="s">nano</span>
<span class="s">nbd</span>
<span class="s">ndisc6</span>
<span class="s">nfs-utils</span>
<span class="s">nilfs-utils</span>
<span class="s">nmap</span>
<span class="s">ntfs-3g</span>
<span class="s">nvme-cli</span>
<span class="s">openconnect</span>
<span class="s">openssh</span>
<span class="s">openvpn</span>
<span class="s">partclone</span>
<span class="s">parted</span>
<span class="s">partimage</span>
<span class="s">ppp</span>
<span class="s">pptpclient</span>
<span class="s">reflector</span>
<span class="s">rp-pppoe</span>
<span class="s">rsync</span>
<span class="s">rxvt-unicode-terminfo</span>
<span class="s">sdparm</span>
<span class="s">sg3_utils</span>
<span class="s">smartmontools</span>
<span class="s">sudo</span>
<span class="s">syslinux</span>
<span class="s">systemd-resolvconf</span>
<span class="s">tcpdump</span>
<span class="s">terminus-font</span>
<span class="s">termite-terminfo</span>
<span class="s">testdisk</span>
<span class="s">usb_modeswitch</span>
<span class="s">usbutils</span>
<span class="s">vim</span>
<span class="s">vpnc</span>
<span class="s">wireless-regdb</span>
<span class="s">wireless_tools</span>
<span class="s">wpa_supplicant</span>
<span class="s">wvdial</span>
<span class="s">xfsprogs</span>
<span class="s">xl2tpd</span>
<span class="s">zsh</span>
<span class="s">htop</span>
<span class="s">dstat</span>
<span class="s">sysstat</span>
<span class="s">screen</span>
<span class="s">xfsdump</span>
<span class="s">ntfs-3g</span>
<span class="s">nmap</span>
<span class="s">net-tools</span>
<span class="s">htop</span>
<span class="s">EOF</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>amd-ucode
arch-install-scripts
b43-fwcutter
base
bind-tools
broadcom-wl
clonezilla
crda
darkhttpd
ddrescue
dhclient
dhcpcd
diffutils
dmraid
dnsmasq
dosfstools
edk2-shell
efibootmgr
ethtool
exfatprogs
f2fs-tools
fsarchiver
gnu-netcat
gpm
gptfdisk
grml-zsh-config
haveged
hdparm
intel-ucode
ipw2100-fw
ipw2200-fw
irssi
iwd
jfsutils
kitty-terminfo
lftp
linux
linux-atm
linux-firmware
lsscsi
lvm2
lynx
man-db
man-pages
mc
mdadm
memtest86+
mkinitcpio
mkinitcpio-archiso
mkinitcpio-nfs-utils
mtools
nano
nbd
ndisc6
nfs-utils
nilfs-utils
nmap
ntfs-3g
nvme-cli
openconnect
openssh
openvpn
partclone
parted
partimage
ppp
pptpclient
reflector
rp-pppoe
rsync
rxvt-unicode-terminfo
sdparm
sg3_utils
smartmontools
sudo
syslinux
systemd-resolvconf
tcpdump
terminus-font
termite-terminfo
testdisk
usb_modeswitch
usbutils
vim
vpnc
wireless-regdb
wireless_tools
wpa_supplicant
wvdial
xfsprogs
xl2tpd
zsh
htop
dstat
sysstat
screen
xfsdump
ntfs-3g
nmap
net-tools
htop
</pre>
</div>
</div>

</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="c1">#collapse-output</span>
cat <span class="s">&lt;&lt; &#39;EOF&#39; | sudo tee $DIR_CFG/airootfs/etc/systemd/network/20-ethernet.network</span>
<span class="s">[Match]</span>
<span class="s">Name=en*</span>
<span class="s">Name=eth*</span>

<span class="s">[Network]</span>
<span class="s">DHCP=yes</span>
<span class="s">IPForward=yes</span>

<span class="s">[Address]</span>
<span class="s">Address=172.16.0.250/24</span>
<span class="s">EOF</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[Match]
Name=en*
Name=eth*

[Network]
DHCP=yes
IPForward=yes

[Address]
Address=172.16.0.250/24
</pre>
</div>
</div>

</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
<span class="c1">#collapse-output</span>
sudo mkarchiso -v -w <span class="nv">$DIR_TMP</span> -o <span class="nv">$DIR_ISO</span> <span class="nv">$DIR_CFG</span>
</pre></div>

    </div>
</div>
</div>
<details class="description">
      <summary class="btn btn-sm" data-open="Hide Output" data-close="Show Output"></summary>
        <p>
<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[mkarchiso] INFO: Validating options...
[mkarchiso] INFO: Done!
[mkarchiso] INFO: mkarchiso configuration settings
[mkarchiso] INFO:              Architecture:   x86_64
[mkarchiso] INFO:         Working directory:   /home/dorgeln/arch/tmp
[mkarchiso] INFO:    Installation directory:   arch
[mkarchiso] INFO:                Build date:   2021-04-14T20:08:18+00:00
[mkarchiso] INFO:          Output directory:   /home/dorgeln/arch/iso
[mkarchiso] INFO:                   GPG key:   None
[mkarchiso] INFO:                   Profile:   /home/dorgeln/arch/cfg
[mkarchiso] INFO: Pacman configuration file:   /home/dorgeln/arch/cfg/pacman.conf
[mkarchiso] INFO:           Image file name:   archlinux-2021.04.14-x86_64.iso
[mkarchiso] INFO:          ISO volume label:   ARCH_202104
[mkarchiso] INFO:             ISO publisher:   Arch Linux &lt;https://archlinux.org&gt;
[mkarchiso] INFO:           ISO application:   Arch Linux Live/Rescue CD
[mkarchiso] INFO:                Boot modes:   bios.syslinux.mbr bios.syslinux.eltorito uefi-x64.systemd-boot.esp uefi-x64.systemd-boot.eltorito
[mkarchiso] INFO:                  Packages:   amd-ucode arch-install-scripts b43-fwcutter base bind-tools broadcom-wl clonezilla crda darkhttpd ddrescue dhclient dhcpcd diffutils dmraid dnsmasq dosfstools edk2-shell efibootmgr ethtool exfatprogs f2fs-tools fsarchiver gnu-netcat gpm gptfdisk grml-zsh-config haveged hdparm intel-ucode ipw2100-fw ipw2200-fw irssi iwd jfsutils kitty-terminfo lftp linux linux-atm linux-firmware lsscsi lvm2 lynx man-db man-pages mc mdadm memtest86+ mkinitcpio mkinitcpio-archiso mkinitcpio-nfs-utils mtools nano nbd ndisc6 nfs-utils nilfs-utils nmap ntfs-3g nvme-cli openconnect openssh openvpn partclone parted partimage ppp pptpclient reflector rp-pppoe rsync rxvt-unicode-terminfo sdparm sg3_utils smartmontools sudo syslinux systemd-resolvconf tcpdump terminus-font termite-terminfo testdisk usb_modeswitch usbutils vim vpnc wireless-regdb wireless_tools wpa_supplicant wvdial xfsprogs xl2tpd zsh htop dstat sysstat screen xfsdump ntfs-3g nmap net-tools htop
[mkarchiso] INFO: Creating SquashFS image, this may take some time...
Parallel mksquashfs: Using 8 processors
Creating 4.0 filesystem on /home/dorgeln/arch/tmp/iso/arch/x86_64/airootfs.sfs, block size 1048576.
[===========================================================/] 50631/50631 100%

Exportable Squashfs 4.0 filesystem, xz compressed, data block size 1048576
	compressed data, compressed metadata, compressed fragments,
	compressed xattrs, compressed ids
	duplicates are removed
Filesystem size 593327.55 Kbytes (579.42 Mbytes)
	34.02% of uncompressed filesystem size (1743939.80 Kbytes)
Inode table size 440772 bytes (430.44 Kbytes)
	21.05% of uncompressed inode table size (2094237 bytes)
Directory table size 557652 bytes (544.58 Kbytes)
	37.12% of uncompressed directory table size (1502433 bytes)
Xattr table size 166 bytes (0.16 Kbytes)
	52.37% of uncompressed xattr table size (317 bytes)
Number of duplicate files found 3830
Number of inodes 61061
Number of files 49933
Number of fragments 968
Number of symbolic links  6732
Number of device nodes 0
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 4396
Number of ids (unique uids + gids) 14
Number of uids 5
	root (0)
	unknown (971)
	unknown (110)
	nobody (65534)
	rpc (32)
Number of gids 12
	root (0)
	named (40)
	network (90)
	unknown (110)
	ftp (11)
	tty (5)
	dbus (81)
	polkitd (102)
	games (50)
	rpc (32)
	systemd-network (981)
	rfkill (983)
[mkarchiso] INFO: Creating checksum file for self-test...
[mkarchiso] INFO: Done!
[mkarchiso] INFO: Creating ISO image...
[mkarchiso] INFO: Done!
712M	/home/dorgeln/arch/iso/archlinux-2021.04.14-x86_64.iso
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>
Unrecognised xattr prefix system.posix_acl_access

Unrecognised xattr prefix system.posix_acl_default

Unrecognised xattr prefix system.posix_acl_access

Unrecognised xattr prefix system.posix_acl_default
xorriso 1.5.4 : RockRidge filesystem manipulator, libburnia project.

xorriso : NOTE : Environment variable SOURCE_DATE_EPOCH encountered with value 1618430898
Drive current: -outdev &#39;stdio:/home/dorgeln/arch/iso/archlinux-2021.04.14-x86_64.iso&#39;
Media current: stdio file, overwriteable
Media status : is blank
Media summary: 0 sessions, 0 data blocks, 0 data, 98.2g free
Added to ISO image: directory &#39;/&#39;=&#39;/home/dorgeln/arch/tmp/iso&#39;
xorriso : UPDATE :     106 files added in 1 seconds
xorriso : UPDATE :     106 files added in 1 seconds
xorriso : NOTE : Copying to System Area: 432 bytes from file &#39;/home/dorgeln/arch/tmp/iso/syslinux/isohdpfx.bin&#39;
libisofs: NOTE : Aligned image size to cylinder size by 302 blocks
xorriso : UPDATE :  16.17% done
ISO image produced: 364198 sectors
Written to medium : 364198 sectors at LBA 0
Writing to &#39;stdio:/home/dorgeln/arch/iso/archlinux-2021.04.14-x86_64.iso&#39; completed successfully.

</pre>
</div>
</div>

</div>
</div>
</p>
    </details>
</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span>%%bash
ls -lah <span class="nv">$DIR_ISO</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>total 712M
drwxr-xr-x 2 root root   45 Apr 14 22:18 .
drwxr-xr-x 5 root root   39 Apr 14 22:04 ..
-rw-r--r-- 1 root root 712M Apr 14 22:18 archlinux-2021.04.14-x86_64.iso
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

